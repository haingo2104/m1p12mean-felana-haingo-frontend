<nav class="sidebar bg-dark text-white vh-100" [ngClass]="{'collapsed': isCollapsed}">
  <div class="p-3 d-flex justify-content-between align-items-center">
    <img src="logo.png" alt="CarRepair Logo" class="header-logo mb-3" *ngIf="!isCollapsed" />
    <button class="btn btn-outline-light" (click)="toggleSidebar()"> <!-- Bouton ☰ toujours visible -->
      ☰
    </button>
  </div>

  <ul class="nav flex-column">
    <li class="nav-item">
      <a routerLink="/dashboard" routerLinkActive="active" class="nav-link text-white d-flex align-items-center">
        <span class="menu-icon">📊</span>
        <span class="menu-text" *ngIf="!isCollapsed">Dashboard</span>
      </a>
    </li>

    <!-- Utilisateur avec sous-menu -->
    <li class="nav-item">
      <a class="nav-link text-white d-flex align-items-center" href="#" data-bs-toggle="collapse" data-bs-target="#utilisateurMenu" aria-expanded="false" aria-controls="utilisateurMenu">
        <span class="menu-icon">👤</span>
        <span class="menu-text" *ngIf="!isCollapsed">Utilisateur</span>
      </a>
      <ul class="collapse" id="utilisateurMenu" *ngIf="!isCollapsed">
        <li class="nav-item">
          <a routerLink="/mecanicien" routerLinkActive="active" class="nav-link text-white ms-3">👨‍🔧 Mécanicien</a>
        </li>
        <li class="nav-item">
          <a routerLink="/client" routerLinkActive="active" class="nav-link text-white ms-3">👥 Client</a>
        </li>
      </ul>
    </li>

    <li class="nav-item">
      <a routerLink="/gerer-rendez-vous" routerLinkActive="active" class="nav-link text-white d-flex align-items-center">
        <span class="menu-icon">📅</span>
        <span class="menu-text" *ngIf="!isCollapsed">Gérer Rendez-vous</span>
      </a>
    </li>

    <li class="nav-item">
      <a routerLink="/generer-facture" routerLinkActive="active" class="nav-link text-white d-flex align-items-center">
        <span class="menu-icon">🧾</span>
        <span class="menu-text" *ngIf="!isCollapsed">Générer Facture</span>
      </a>
    </li>

    <li class="nav-item">
      <a routerLink="/paiement" routerLinkActive="active" class="nav-link text-white d-flex align-items-center">
        <span class="menu-icon">💳</span>
        <span class="menu-text" *ngIf="!isCollapsed">Paiement</span>
      </a>
    </li>
  </ul>
</nav>
